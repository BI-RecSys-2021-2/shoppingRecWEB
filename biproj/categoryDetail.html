<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="Generator" content="EditPlus@">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">

<link rel="stylesheet" href="./public/css/categoryDetail.css">

    <script type="text/javascript">
        temp = location.href.split("?");
        categories=temp[1].split(":");
        category=categories[0];
    </script>

    <script src='https://d3js.org/d3.v4.min.js'></script>
    <script src="https://d3js.org/d3-dsv.v2.min.js"></script>
    <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
    <script src="https://d3js.org/d3-fetch.v1.min.js"></script>

    <title>FOR YOU</title>
</head>


<body>
<div class="nav">
    <div class="nav-item"><a href="main.html"><img id="home" src = "image/home.png" width="30px"; height="30px"></a></div>
    <div class="nav-item"><a href="categorypage.html"><img id="bar" src = "image/bar.png" width="35px"; height="35px"></a></div>
    <div class="title">FOR YOU</div>
</div>

<div class="container">
<script>
    const csv = d3.csv(`data/${category}.csv`)
    csv.then(function(data) {
        data.forEach(function(d) {
            d3.select('body')
                .selectAll('div')
                .data(d)
                .enter()
                .append('div')


            d3.image(
                d.url, {crossOrigin: "anonymous"}).then((img) => {
                img.className = "product";
                document.body.append(img);
          }).catch(function(err) {
                console.log('then error : ', err);
            });

            function sendFunc( aValue )
            { name=d.name;
              rating=d.numberofstars;
              weight=d.weght;
              image=d.url
              location.href="detailpage.html?"+name+":"+rating+":"+weight+":"+image; }



        });


    })



</script>
</div>
</body>
</html>

<!--document.body.append(d.search);-->
